<div class="main-content-container px-4 pb-4 container-fluid">
  <div class="page-header py-4 no-gutters row">
    <div class="text-sm-left text-center text-md-left mb-sm-0 col-12 col-sm-4">
      <span class="text-uppercase page-subtitle">Dashboard</span>
      <h3 class="page-title">Companies</h3>
    </div>
  </div>
  <div *ngIf="!showPage"><app-loading-spinner></app-loading-spinner></div>

  <div
    class="alert alert-success alert-dismissible fade show mx-2"
    role="alert"
    *ngIf="companyCreated"
  >
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
      <span aria-hidden="true">×</span>
    </button>
    <i class="fa fa-check mx-2"></i>
    {{ message }}
  </div>

  <div
    class="alert alert-danger alert-dismissible fade show"
    role="alert"
    *ngIf="companyNotCreated"
  >
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
      <span aria-hidden="true">×</span>
    </button>
    <i class="fa fa-times mx-2"></i>
    {{ message }}
  </div>

  <div *ngIf="showPage">
    <div
      style="
        display: grid;
        gap: 20px;
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      "
      class="m-0 row"
    >
      <div class="p-0 col">
        <div class="p-3 card card-small">
          <div class="text-center card-header">
            <div
              class="
                btn-custom
                bg-custom
                m-3
                btn
                card
                d-flex
                justify-content-center
                align-items-center
                btn btn-outline-info
              "
              style="
                text-align: center;
                font-weight: 600;
                font-size: 1.2rem;
                width: 200px;
                height: 200px;
                border: 1px solid rgb(82, 181, 233);
              "
              type="button"
              data-toggle="modal"
              data-target="#exampleModalCenter"
            >
              <span style="font-size: 2.5rem">+</span>
              Create Company
            </div>
          </div>
        </div>

        <div
          class="modal fade"
          id="exampleModalCenter"
          tabindex="-1"
          role="dialog"
          aria-labelledby="exampleModalCenterTitle"
          aria-hidden="true"
        >
          <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content p-0">
              <div class="card">
                <div class="card-header border-bottom">
                  <h6 class="m-0">Create Company</h6>
                </div>
                <ul class="list-group list-group-flush">
                  <li class="list-group-item px-3">
                    <form [formGroup]="crateCompanyForm">
                      <div class="row">
                        <div class="col-lg-12 col md-12 col sm-12">
                          <strong class="text-muted d-block mb-2">Name</strong>
                          <div class="input-group mb-3">
                            <input
                              type="text"
                              class="form-control"
                              placeholder="Company Name"
                              formControlName="name"
                              aria-describedby="basic-addon1"
                            />
                          </div>
                        </div>
                        <div class="col-lg-12 col md-12 col sm-12">
                          <strong class="text-muted d-block mb-2">Email</strong>
                          <div class="input-group mb-3">
                            <input
                              type="email"
                              class="form-control"
                              placeholder="Email Address"
                              formControlName="email"
                              aria-describedby="basic-addon1"
                            />
                          </div>
                        </div>
                        <div class="col-lg-12 col md-12 col sm-12">
                          <strong class="text-muted d-block mb-2">Phone</strong>
                          <div class="input-group mb-3">
                            <input
                              type="text"
                              class="form-control"
                              placeholder="Phone Number"
                              formControlName="phone"
                              aria-describedby="basic-addon1"
                            />
                          </div>
                        </div>
                      </div>
                      <div class="row" formGroupName="address">
                        <div class="col-lg-6 col md-6 col sm-12">
                          <strong class="text-muted d-block mb-2"
                            >Address Line 1</strong
                          >
                          <div class="input-group mb-3">
                            <input
                              type="text"
                              class="form-control"
                              placeholder="Address Line 1"
                              formControlName="addressLine1"
                              aria-describedby="basic-addon1"
                            />
                          </div>
                        </div>
                        <div class="col-lg-6 col md-6 col sm-12">
                          <strong class="text-muted d-block mb-2"
                            >Address Line 2</strong
                          >
                          <div class="input-group mb-3">
                            <input
                              type="text"
                              class="form-control"
                              placeholder="Address Line 2"
                              formControlName="addressLine2"
                              aria-describedby="basic-addon1"
                            />
                          </div>
                        </div>
                        <div class="col-lg-6 col md-6 col sm-12">
                          <strong class="text-muted d-block mb-2">City</strong>
                          <div class="input-group mb-3">
                            <input
                              type="text"
                              class="form-control"
                              placeholder="City"
                              formControlName="city"
                              aria-describedby="basic-addon1"
                            />
                          </div>
                        </div>
                        <div class="col-lg-6 col md-6 col sm-12">
                          <strong class="text-muted d-block mb-2">Zip</strong>
                          <div class="input-group mb-3">
                            <input
                              type="text"
                              class="form-control"
                              placeholder="Zip"
                              formControlName="zip"
                              aria-describedby="basic-addon1"
                            />
                          </div>
                        </div>
                      </div>
                      <hr />

                      <div class="row" formGroupName="userInfo">
                        <div class="col-lg-12 col-md-12 col sm-12">
                          <strong class="text-muted d-block mb-2"
                            >Admin User</strong
                          >
                        </div>

                        <div class="col-lg-12 col-md-12 col sm-12">
                          <strong class="text-muted d-block mb-2">Name</strong>
                          <div class="input-group mb-3">
                            <input
                              type="text"
                              class="form-control"
                              placeholder="Name"
                              formControlName="userName"
                              aria-describedby="basic-addon1"
                            />
                          </div>
                        </div>
                        <div class="col-lg-12 col-md-12 col sm-12">
                          <strong class="text-muted d-block mb-2">Email</strong>
                          <div class="input-group mb-3">
                            <input
                              type="text"
                              class="form-control"
                              placeholder="Email"
                              formControlName="userEmail"
                              aria-describedby="basic-addon1"
                            />
                          </div>
                        </div>
                        <div class="col-lg-6 col-md-6 col sm-12">
                          <strong class="text-muted d-block mb-2">Phone</strong>
                          <div class="input-group mb-3">
                            <input
                              type="text"
                              class="form-control"
                              placeholder="Phone"
                              formControlName="userPhone"
                              aria-describedby="basic-addon1"
                            />
                          </div>
                        </div>
                        <div class="col-lg-6 col-md-6 col sm-12">
                          <strong class="text-muted d-block mb-2"
                            >Password</strong
                          >
                          <div class="input-group mb-3">
                            <input
                              type="text"
                              class="form-control"
                              placeholder="Password"
                              formControlName="userPassword"
                              aria-describedby="basic-addon1"
                            />
                          </div>
                        </div>
                      </div>
                    </form>
                    <button
                      type="button"
                      class="mb-2 btn btn-outline-info mr-2"
                      (click)="createCompany()"
                      data-dismiss="modal"
                    >
                      Create Company
                    </button>
                    <button
                      type="button"
                      class="mb-2 btn btn-outline-danger mr-2"
                      data-dismiss="modal"
                    >
                      Cancel
                    </button>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="p-0 col" *ngFor="let company of companyList">
        <div class="p-3 card card-small">
          <div class="text-center card-header">
            <div
              class="
                btn-custom
                bg-custom
                m-3
                btn
                card
                d-flex
                justify-content-center
                align-items-center
                btn btn-outline-info
              "
              style="
                text-align: center;
                font-weight: 600;
                font-size: 1.2rem;
                width: 200px;
                height: 200px;
                border: 1px solid rgb(82, 181, 233);
              "
            >
              <span class="">{{ company?.name | titlecase }}</span>
              <span class="mt-2">View Company</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
